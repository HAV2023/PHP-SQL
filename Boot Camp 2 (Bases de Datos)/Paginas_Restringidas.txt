âœ… Paso 1: Crear una Nueva PÃ¡gina Restringida

Pensemos que queremos agregar una pÃ¡gina llamada "Panel de Control" (panel.php), solo accesible para usuarios autenticados.

ğŸ“Œ Crear un nuevo archivo panel.php con este contenido:

<?php
session_start();
if (!isset($_SESSION['user'])) {
    header("Location: login.html");
    exit;
}
?>
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Control</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="menu">
        <ul class="menu-links">
            <li><a href="index.html">Inicio</a></li>
            <li><a href="intranet.php">Intranet</a></li>
            <li><a href="panel.php">Panel de Control</a></li>
            <li><a href="logout.php">Cerrar SesiÃ³n</a></li>
        </ul>
    </nav>

    <div class="container">
        <h2>Bienvenido al Panel de Control</h2>
        <p>Esta es otra pÃ¡gina restringida que solo pueden ver los usuarios autenticados.</p>
    </div>
</body>
</html>

ğŸ”¹ Este cÃ³digo verifica si hay sesiÃ³n iniciada, si no, redirige a login.html.

âœ… Paso 2: Mostrar las PÃ¡ginas Restringidas en el MenÃº SOLO si hay SesiÃ³n

Para hacer que "Intranet" y "Panel de Control" aparezcan solo cuando el usuario haya iniciado sesiÃ³n, modifiquemos el archivo script.js:

ğŸ”¹ Modifiquen el archivo script.js asÃ­:

document.addEventListener('DOMContentLoaded', function () {
    const restrictedMenu = document.getElementById('restricted-menu');
    const panelMenu = document.getElementById('panel-menu');

    if (sessionStorage.getItem('loggedIn')) {
        restrictedMenu.style.display = 'block';
        panelMenu.style.display = 'block';
    }
});

ğŸ“Œ Y modifiquen el archivo index.html (o cualquier otra pÃ¡gina con menÃº) asÃ­:

<li id="restricted-menu" style="display: none;"><a href="../intranet/intranet.php">Intranet</a></li>
<li id="panel-menu" style="display: none;"><a href="../intranet/panel.php">Panel de Control</a></li>

OJO: Las rutas de ubicaciÃ³n de los <A HREF></A> pueden variar de acuerdo al dispositivo de almacenamiento.

âœ… Paso 3: Asegurar que las pÃ¡ginas restringidas no sean accesibles sin sesiÃ³n

Cada pÃ¡gina restringida (intranet.php, panel.php, etc.) debe iniciar con este cÃ³digo para verificar si el usuario estÃ¡ autenticado:

<?php
session_start();
if (!isset($_SESSION['user'])) {
    header("Location: login.html");
    exit;
}
?>

Esto evita que los usuarios accedan a las pÃ¡ginas restringidas escribiendo la URL directamente.

