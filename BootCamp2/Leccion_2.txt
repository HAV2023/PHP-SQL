ğŸ“˜ LecciÃ³n 2 â€” ConexiÃ³n PHP â†” MySQL

ğŸ¯ Objetivo

Aprender a conectar un archivo PHP con la base de datos MySQL que creamos en la LecciÃ³n 1. Esto es la base de todo el Boot Camp: sin conexiÃ³n, no hay CRUD.

â¸»

ğŸ“‚ Archivo: conexion.php

Parte A â€” CÃ³digo limpio

<?php
if (session_status() === PHP_SESSION_NONE) {
    session_start();
}

$servidor_bd   = "localhost";
$usuario_bd    = "root";
$contrasena_bd = "";
$nombre_bd     = "mi_base_datos";

$conexion = new mysqli($servidor_bd, $usuario_bd, $contrasena_bd, $nombre_bd);

if ($conexion->connect_error) {
    die("Error de conexiÃ³n a MySQL: " . $conexion->connect_error);
}

if (!$conexion->set_charset("utf8mb4")) {
    die("Error al configurar UTF-8: " . $conexion->error);
}


â¸»

Parte B â€” ExplicaciÃ³n lÃ­nea por lÃ­nea
	â€¢	<?php
Inicio del bloque de cÃ³digo PHP. Todo lo que estÃ© dentro serÃ¡ procesado en el servidor.
	â€¢	if (session_status() === PHP_SESSION_NONE) { ... }
La funciÃ³n session_status() devuelve el estado de la sesiÃ³n:
	â€¢	PHP_SESSION_NONE: no hay sesiÃ³n activa.
	â€¢	PHP_SESSION_ACTIVE: ya existe sesiÃ³n activa.
	â€¢	PHP_SESSION_DISABLED: sesiones deshabilitadas.
La condiciÃ³n === PHP_SESSION_NONE pregunta: â€œÂ¿no hay sesiÃ³n activa?â€.
	â€¢	session_start();
Si no hay sesiÃ³n, esta instrucciÃ³n crea una nueva.
â A partir de aquÃ­ podemos guardar variables en $_SESSION.
	â€¢	$servidor_bd   = "localhost";
Se declara la variable $servidor_bd con el texto "localhost".
â â€œlocalhostâ€ significa que MySQL estÃ¡ en la misma computadora que el servidor web.
	â€¢	$usuario_bd    = "root";
Variable $usuario_bd con el valor "root".
â Usuario administrador por defecto de MySQL.
	â€¢	$contrasena_bd = "";
Variable $contrasena_bd vacÃ­a.
â En XAMPP normalmente root no tiene contraseÃ±a.
â En MAMP suele ser "root".
	â€¢	$nombre_bd     = "mi_base_datos";
Variable con el nombre de la base que creamos en la lecciÃ³n anterior.
	â€¢	$conexion = new mysqli(...);
Crea un objeto de conexiÃ³n usando la clase mysqli.
â Recibe servidor, usuario, contraseÃ±a y base de datos.
â Si todo estÃ¡ bien, $conexion es la llave para ejecutar consultas SQL.
	â€¢	if ($conexion->connect_error) { ... }
EvalÃºa si hubo error al conectar.
â $conexion->connect_error devuelve el mensaje de error en caso de fallo.
	â€¢	die("Error de conexiÃ³n a MySQL: " . $conexion->connect_error);
La funciÃ³n die() detiene la ejecuciÃ³n y muestra el mensaje entre comillas.
â Se concatena (.) con el error detallado.
	â€¢	if (!$conexion->set_charset("utf8mb4")) { ... }
Configura el conjunto de caracteres de la conexiÃ³n.
â set_charset("utf8mb4") asegura que se guarden bien acentos, eÃ±es y emojis.
â El sÃ­mbolo ! significa â€œnoâ€. Si no se puede configurar, se ejecuta el bloque.
	â€¢	die("Error al configurar UTF-8: " . $conexion->error);
Si ocurre un error al aplicar UTF-8, se detiene el programa y se muestra el mensaje.

â¸»

âœ… VerificaciÃ³n
	1.	Guarda el archivo como conexion.php dentro de proyecto_crud/.
	2.	Abre en navegador:

	http://localhost/proyecto_crud/conexion.php


	3.	Si no hay errores, la pÃ¡gina queda en blanco (conexiÃ³n correcta).
	4.	Si hay errores, verÃ¡s el mensaje correspondiente.

â¸»
