‚úÖ Paso 1: Crear una Nueva P√°gina Restringida

Supongamos que queremos agregar una p√°gina llamada "Panel de Control" (panel.php), solo accesible para usuarios autenticados.

üìå Crear un nuevo archivo panel.php con este contenido:

<?php
session_start();
if (!isset($_SESSION['user'])) {
    header("Location: login.html");
    exit;
}
?>
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Control</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="menu">
        <ul class="menu-links">
            <li><a href="index.html">Inicio</a></li>
            <li><a href="intranet.php">Intranet</a></li>
            <li><a href="panel.php">Panel de Control</a></li>
            <li><a href="logout.php">Cerrar Sesi√≥n</a></li>
        </ul>
    </nav>

    <div class="container">
        <h2>Bienvenido al Panel de Control</h2>
        <p>Esta es otra p√°gina restringida que solo pueden ver los usuarios autenticados.</p>
    </div>
</body>
</html>

üîπ Este c√≥digo verifica si hay sesi√≥n iniciada, si no, redirige a login.html.

‚úÖ Paso 2: Mostrar las P√°ginas Restringidas en el Men√∫ SOLO si hay Sesi√≥n

Para hacer que "Intranet" y "Panel de Control" aparezcan solo cuando el usuario haya iniciado sesi√≥n, modifiquemos el archivo script.js:

üîπ Modifiquen el archivo script.js as√≠:

document.addEventListener('DOMContentLoaded', function () {
    const restrictedMenu = document.getElementById('restricted-menu');
    const panelMenu = document.getElementById('panel-menu');

    if (sessionStorage.getItem('loggedIn')) {
        restrictedMenu.style.display = 'block';
        panelMenu.style.display = 'block';
    }
});

üìå Y modifiquen el archivo index.html (o cualquier otra p√°gina con men√∫) as√≠:

<li id="restricted-menu" style="display: none;"><a href="../intranet/intranet.php">Intranet</a></li>
<li id="panel-menu" style="display: none;"><a href="../intranet/panel.php">Panel de Control</a></li>

OJO: Las rutas de ubicaci√≥n de los <A HREF></A> pueden variar de acuerdo al dispositivo de almacenamiento.

‚úÖ Paso 3: Asegurar que las p√°ginas restringidas no sean accesibles sin sesi√≥n

Cada p√°gina restringida (intranet.php, panel.php, etc.) debe iniciar con este c√≥digo para verificar si el usuario est√° autenticado:

<?php
session_start();
if (!isset($_SESSION['user'])) {
    header("Location: login.html");
    exit;
}
?>

Esto evita que los usuarios accedan a las p√°ginas restringidas escribiendo la URL directamente.

